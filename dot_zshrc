autoload -U compinit

compinit

# Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.
# Initialization code that may require console input (password prompts, [y/n]
# confirmations, etc.) must go above this block; everything else may go below.
#if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
#  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
#fi

alias cat="bat"

alias ls="lsd"
alias l="ls -lha"

alias dotfiles='cd ~/.local/share/chezmoi'

alias sZ="source ~/.zshrc"
alias eZ="chezmoi edit ~/.zshrc"
alias sT="tmux source-file ~/.config/tmux/tmux.conf"

alias flux="~/opt/flux/flux"

alias asdf-install="sh ~/dev/jan/scripts/asdf-install.sh"
alias asdf="~/dev/asdf/asdf.sh"

#source ~/powerlevel10k/powerlevel10k.zsh-theme

# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
#[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh
#alias vi='nvim'
alias vim='nvim'

# Load Alias
source ~/.config/alias/terraform
source ~/.config/alias/git
source ~/.config/alias/chezmoi

if [ -f ~/.config/alias/kubectl]; then
    source ~/.config/alias/kubectl
fi

if [ -f ~/.config/alias/markant]; then
    source ~/.config/alias/markant
fi

# Load zsh plugins
if [ -f ~/dev/git/zsh-autocomplete=zsh-autocomplete.plugin.zsh]; then
    source ~/dev/git/zsh-autocomplete/zsh-autocomplete.plugin.zsh
fi

if [ -f ~/dev/git/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh]; then
    source ~/dev/git/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
fi

if [ -f ~/.config/zsh/functions.zsh]; then
    source ~/.config/zsh/functions.zsh
fi

if [ -f ~/.config/zsh/web-search.plugin.zsh]; then
    source ~/.config/zsh/web-search.plugin.zsh
fi

if [ -f ~/.config/zsh/web-search.plugin.zsh]; then
    source ~/.config/zsh/web-search.plugin.zsh
fi

if [ -f ~/.config/zsh/kubectlcompletion.zsh]; then
    source ~/.config/zsh/kubectlcompletion.zsh
fi

# Autocompletes
source <(kubectl completion zsh)
source <(helm completion zsh)
source <(flux completion zsh)
source <(chezmoi completion zsh)
source <(docker completion zsh)
#source <(/opt/homebrew/opt/asdf/libexec/completions zsh)

export GREP_OPTIONS='--color=always'

alias teectl="~/bin/teectl"

. ~/dev/asdf/asdf.sh

eval "$(starship init zsh)"
